(()=>{window._lmnHasOpenedPopup=!0,window._lmnWebViewNoticeElement=null;let e={};window.LMNPopup=function(e,n,t,i){const o=navigator.userAgent,r=function(){return/\b(iPhone|iP[ao]d)/.test(o)||/\b(iP[ao]d)/.test(o)||/Android/i.test(o)||/Mobile/i.test(o)},d=void 0!==window.screenX?window.screenX:window.screenLeft,l=void 0!==window.screenY?window.screenY:window.screenTop,c=void 0!==window.outerWidth?window.outerWidth:document.documentElement.clientWidth,s=void 0!==window.outerHeight?window.outerHeight:document.documentElement.clientHeight-22,a=r()?null:t,w=r()?null:i,u=parseInt(d+(c-a)/2,10),p=parseInt(l+(s-w)/2.5,10),m=[];null!==a&&m.push("width="+a),null!==w&&m.push("height="+w),m.push("left="+u),m.push("top="+p),m.push("scrollbars=1");const f=window.open(e,n,m.join(","));return window.focus&&f.focus(),window._lmnHasOpenedPopup=!0,f};let n=null;function t(){if(null===n){function e(e,n){try{return function(e){const n=e.split(/[\._]/);return(parseInt(n[0],10)||0)+"."+(parseInt(n[1],10)||0)+"."+(parseInt(n[2],10)||0)}(e.split(n)[1].trim().split(/[^\w\.]/)[0])}catch(e){}return"0.0.0"}const t={},i=(window.navigator||{}).userAgent||"",o=function(e){return/Android/.test(e)?"Android":/iPhone|iPad|iPod/.test(e)?"iOS":/Windows/.test(e)?"Windows":/Mac OS X/.test(e)?"Mac":/CrOS/.test(e)?"Chrome OS":/Firefox/.test(e)?"Firefox OS":""}(i),r=function(e){let n=/Android/.test(e);return/Opera Mini/.test(e)||/ OPR/.test(e)||/ OPT/.test(e)?"Opera":/CriOS/.test(e)?"Chrome for iOS":/Edge/.test(e)?"Edge":n&&/Silk\//.test(e)?"Silk":/Chrome/.test(e)?"Chrome":/Firefox/.test(e)?"Firefox":n?"AOSP":/MSIE|Trident/.test(e)?"IE":/Safari\//.test(e)?"Safari":/AppleWebKit/.test(e)?"WebKit":""}(i),d=function(n,t){return"Opera"===t?/Opera Mini/.test(n)?e(n,"Opera Mini/"):/ OPR/.test(n)?e(n," OPR/"):e(n," OPT/"):"Chrome for iOS"===t?e(n,"CriOS/"):"Edge"===t?e(n,"Edge/"):"Chrome"===t?e(n,"Chrome/"):"Firefox"===t?e(n,"Firefox/"):"Silk"===t?e(n,"Silk/"):"AOSP"===t?e(n,"Version/"):"IE"===t?/IEMobile/.test(n)?e(n,"IEMobile/"):/MSIE/.test(n)?e(n,"MSIE "):e(n,"rv:"):"Safari"===t?e(n,"Version/"):"WebKit"===t?e(n,"WebKit/"):"0.0.0"}(i,r);n=function(e,n,t,i,o){switch(n+t){case"iOSSafari":case"AndroidAOSP":return!1;case"iOSWebKit":return function(e){const n=window.document||{};return"WEB_VIEW"in e?e.WEB_VIEW:!("fullscreenEnabled"in n||"webkitFullscreenEnabled"in n)}(o);case"AndroidChrome":return parseFloat(i)>=42?/; wv/.test(e):!!/\d{2}\.0\.0/.test(i)||function(e){return"WEB_VIEW"in e?e.WEB_VIEW:!("requestFileSystem"in window||"webkitRequestFileSystem"in window)}(o)}return!1}(i,o,r,d,t)}return n}function i(n,i=""){const o=document.querySelectorAll(n);o.length&&t()&&o.forEach((function(n){var t;"disable-button"===e._unsupportedWebviewBehavior?(t=n)&&(t.classList.add("lmn-disabled-provider"),t.setAttribute("href","#"),t.addEventListener("pointerdown",(n=>{if(!window._lmnWebViewNoticeElement){window._lmnWebViewNoticeElement=document.createElement("div"),window._lmnWebViewNoticeElement.id="lmn-notices-fallback",window._lmnWebViewNoticeElement.addEventListener("pointerdown",(function(e){this.parentNode.removeChild(this),window._lmnWebViewNoticeElement=null}));const n='<div class="error"><p>'+e._localizedStrings.webview_notification_text+"</p></div>";window._lmnWebViewNoticeElement.insertAdjacentHTML("afterbegin",n),document.body.appendChild(window._lmnWebViewNoticeElement)}}))):(n.remove(),buttonCountChanged=!0)}))}if(window._lmnDOMReady=function(e){"complete"===document.readyState||"interactive"===document.readyState?e():document.addEventListener("DOMContentLoaded",e)},window._lmnDOMReady((function(){window.lmnRedirect=function(e){const n=document.createElement("div");n.id="lmn-redirect-overlay";let t="";t="<div id='lmn-redirect-overlay-container'><div id='lmn-redirect-overlay-spinner'></div></div>",n.insertAdjacentHTML("afterbegin","<div id='lmn-redirect-overlay-container'><div id='lmn-redirect-overlay-spinner'></div></div>"),document.body.appendChild(n),window.location=e};let n=e._targetWindow||"prefer-popup",o=!1;document.querySelectorAll(' a[data-action="lmn-connect"]').forEach((function(e){e.addEventListener("click",(function(e){if(o&&!o.closed)e.preventDefault(),o.focus();else{let i=this.href,r=!1;-1!==i.indexOf("?")?i+="&":i+="?";const d="";if("current"===d?i+="redirect="+encodeURIComponent(window.location.href)+"&":d&&""!==d&&(i+="redirect="+encodeURIComponent(d)+"&"),"prefer-same-window"!==n&&t()&&(n="prefer-same-window"),"prefer-popup"===n)o=LMNPopup(i+"display=popup","lmn-social-connect","600","600"),o&&(r=!0,e.preventDefault());else if("prefer-new-tab"===n){const n=window.open(i+"display=popup","_blank");n&&(window.focus&&n.focus(),r=!0,window._lmnHasOpenedPopup=!0,e.preventDefault())}r||(window.location=i,e.preventDefault())}}))})),i(".lmn_google_login_button"),i(".lmn_facebook_login_button")})),"function"==typeof BroadcastChannel){const e=new BroadcastChannel("lmn_login_broadcast_channel");e.onmessage=n=>{if(window?._lmnHasOpenedPopup&&"reload"===n.data?.action){window._lmnHasOpenedPopup=!1;const t=n.data?.href;e.close(),"function"==typeof window.lmnRedirect?window.lmnRedirect(t):window.opener.location=t}}}})();